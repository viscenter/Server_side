def confDir = context.getRealPath("/configs")
String confFile = "citeconfig.xml"

String userConfig = request.getParameter("config")
try {
    File f = new File("${confDir}/${userConfig}")
    System.err.println "userConfig is ${userConfig} and f is ${f}"
    if (f.exists()) {confFile = userConfig }
} catch (Exception e) {
    System.err.println "Caught exception: sticking with ${confFile}"
    // just stick with default
}

def collections = []
def confXml = new XmlSlurper().parse(new File(confDir + "/${confFile}"))

confXml.contents.include.each {
		      System.err.println it."@label".toString()
}

html.html {
    head {
        meta(charset : "UTF-8")
        title("Contents: CHS Image Service")
        link(type: "text/css", rel : "stylesheet",  
             href : "css/massive.css", title: "concat of 3 HMT doc style sheets")
    }

    body {

        header (role: "banner") {
            mkp.yield("CHS Image Extension")
            nav (role: "navigation") {
                mkp.yield("chsimg: ")
                a(href: "home", "home")
                mkp.yield (" | " )
                a(href: "contents", "contents")
                mkp.yield (" | " )
                a(href: "requests", "requests")
            }
        }
        article (role : "main") {

            h1 ("About the CHS Image Service")
            p("LINK TO DOCS ETC ...")
        }
    }
} // html




